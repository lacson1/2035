import { RolePermissions, Permission } from "../types";

export const rolePermissions: Record<string, RolePermissions> = {
  admin: {
    role: "admin",
    name: "Administrator",
    description: "Full system access with all permissions",
    color: "red",
    permissions: [
      "view_patients",
      "edit_patients",
      "delete_patients",
      "view_medications",
      "prescribe_medications",
      "view_notes",
      "create_notes",
      "edit_notes",
      "delete_notes",
      "view_appointments",
      "schedule_appointments",
      "cancel_appointments",
      "view_imaging",
      "order_imaging",
      "view_labs",
      "order_labs",
      "view_billing",
      "edit_billing",
      "manage_users",
      "manage_settings",
      "view_telemedicine",
      "conduct_telemedicine",
      "view_consultations",
      "create_consultations",
      "view_reports",
      "export_data",
    ],
  },
  physician: {
    role: "physician",
    name: "Physician",
    description: "Full clinical access with prescribing and documentation capabilities",
    color: "blue",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_medications",
      "prescribe_medications",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
      "cancel_appointments",
      "view_imaging",
      "order_imaging",
      "view_labs",
      "order_labs",
      "view_telemedicine",
      "conduct_telemedicine",
      "view_consultations",
      "create_consultations",
      "view_reports",
    ],
  },
  nurse_practitioner: {
    role: "nurse_practitioner",
    name: "Nurse Practitioner",
    description: "Advanced practice nursing with prescribing and documentation",
    color: "purple",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_medications",
      "prescribe_medications",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
      "cancel_appointments",
      "view_imaging",
      "order_imaging",
      "view_labs",
      "order_labs",
      "view_telemedicine",
      "conduct_telemedicine",
      "view_consultations",
      "create_consultations",
    ],
  },
  physician_assistant: {
    role: "physician_assistant",
    name: "Physician Assistant",
    description: "Clinical practice with prescribing and documentation",
    color: "indigo",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_medications",
      "prescribe_medications",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
      "cancel_appointments",
      "view_imaging",
      "order_imaging",
      "view_labs",
      "order_labs",
      "view_telemedicine",
      "conduct_telemedicine",
      "view_consultations",
      "create_consultations",
    ],
  },
  nurse: {
    role: "nurse",
    name: "Registered Nurse",
    description: "Clinical care with documentation and medication administration",
    color: "green",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_medications",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
      "view_imaging",
      "view_labs",
      "view_telemedicine",
      "view_consultations",
    ],
  },
  medical_assistant: {
    role: "medical_assistant",
    name: "Medical Assistant",
    description: "Clinical support with limited documentation",
    color: "teal",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_medications",
      "view_notes",
      "create_notes",
      "view_appointments",
      "schedule_appointments",
      "view_imaging",
      "view_labs",
    ],
  },
  receptionist: {
    role: "receptionist",
    name: "Receptionist",
    description: "Appointment scheduling and patient registration",
    color: "yellow",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_appointments",
      "schedule_appointments",
      "cancel_appointments",
    ],
  },
  billing: {
    role: "billing",
    name: "Billing Specialist",
    description: "Billing and financial management",
    color: "orange",
    permissions: [
      "view_patients",
      "view_appointments",
      "view_billing",
      "edit_billing",
      "view_reports",
    ],
  },
  pharmacist: {
    role: "pharmacist",
    name: "Pharmacist",
    description: "Medication review and pharmacy management",
    color: "pink",
    permissions: [
      "view_patients",
      "view_medications",
      "view_notes",
      "view_labs",
    ],
  },
  lab_technician: {
    role: "lab_technician",
    name: "Lab Technician",
    description: "Laboratory testing and results management",
    color: "cyan",
    permissions: [
      "view_patients",
      "view_labs",
      "order_labs",
    ],
  },
  radiologist: {
    role: "radiologist",
    name: "Radiologist",
    description: "Imaging interpretation and reporting",
    color: "violet",
    permissions: [
      "view_patients",
      "view_imaging",
      "order_imaging",
      "view_notes",
      "create_notes",
      "edit_notes",
    ],
  },
  therapist: {
    role: "therapist",
    name: "Therapist",
    description: "Therapy services and documentation",
    color: "emerald",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
      "view_telemedicine",
      "conduct_telemedicine",
    ],
  },
  social_worker: {
    role: "social_worker",
    name: "Social Worker",
    description: "Social services and case management",
    color: "amber",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_notes",
      "create_notes",
      "edit_notes",
      "view_appointments",
      "schedule_appointments",
    ],
  },
  care_coordinator: {
    role: "care_coordinator",
    name: "Care Coordinator",
    description: "Care coordination and patient navigation",
    color: "sky",
    permissions: [
      "view_patients",
      "edit_patients",
      "view_notes",
      "create_notes",
      "view_appointments",
      "schedule_appointments",
      "view_imaging",
      "view_labs",
      "view_consultations",
    ],
  },
  read_only: {
    role: "read_only",
    name: "Read Only",
    description: "View-only access for auditors and observers",
    color: "gray",
    permissions: [
      "view_patients",
      "view_medications",
      "view_notes",
      "view_appointments",
      "view_imaging",
      "view_labs",
      "view_reports",
    ],
  },
};

export const getRolePermissions = (role: string): RolePermissions | undefined => {
  return rolePermissions[role];
};

export const hasPermission = (userRole: string, permission: Permission): boolean => {
  const role = getRolePermissions(userRole);
  return role?.permissions.includes(permission) ?? false;
};

export const getAllRoles = (): RolePermissions[] => {
  return Object.values(rolePermissions);
};

